<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Extended Formulation · Polyhedra</title><meta name="title" content="Extended Formulation · Polyhedra"/><meta property="og:title" content="Extended Formulation · Polyhedra"/><meta property="twitter:title" content="Extended Formulation · Polyhedra"/><meta name="description" content="Documentation for Polyhedra."/><meta property="og:description" content="Documentation for Polyhedra."/><meta property="twitter:description" content="Documentation for Polyhedra."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Polyhedra</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Index</a></li><li><a class="tocitem" href="../../installation/">Installation</a></li><li><a class="tocitem" href="../../representation/">Representation</a></li><li><a class="tocitem" href="../../polyhedron/">Polyhedron</a></li><li><a class="tocitem" href="../../plot/">Plot</a></li><li><a class="tocitem" href="../../redundancy/">Containment/Redundancy</a></li><li><a class="tocitem" href="../../projection/">Projection/Elimination</a></li><li><a class="tocitem" href="../../optimization/">Optimization</a></li><li><a class="tocitem" href="../../utilities/">Utilities</a></li><li><a class="tocitem" href="../../internal/">Internal</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../Convex hull and intersection/">Convex hull and intersection</a></li><li class="is-active"><a class="tocitem" href>Extended Formulation</a></li><li><a class="tocitem" href="../Minimal Robust Positively Invariant Set/">Minimal Robust Positively Invariant Set</a></li><li><a class="tocitem" href="../Convex hull of a set of points/">Convex hull of a set of points</a></li><li><a class="tocitem" href="../Projection of H-representation/">Projection of H-representation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Extended Formulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Extended Formulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPolyhedra/Polyhedra.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPolyhedra/Polyhedra.jl/blob/master/examples/Extended Formulation.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Extended-formulation"><a class="docs-heading-anchor" href="#Extended-formulation">Extended formulation</a><a id="Extended-formulation-1"></a><a class="docs-heading-anchor-permalink" href="#Extended-formulation" title="Permalink"></a></h1><p><a href="https://mybinder.org/v2/gh/JuliaPolyhedra/Polyhedra.jl/gh-pages?filepath=v0.8.1/generated/Extended Formulation.ipynb"><img src="https://mybinder.org/badge_logo.svg" alt/></a> <a href="https://nbviewer.jupyter.org/github/JuliaPolyhedra/Polyhedra.jl/blob/gh-pages/v0.8.1/generated/Extended Formulation.ipynb"><img src="https://img.shields.io/badge/show-nbviewer-579ACA.svg" alt/></a></p><p>In this notebook, we show how to work with the extended formulation of a polyhedron. The convex hull of the union of polyhedra that are H-represented can be obtained as the projection of a H-representation [Theorem 3.3, B85]. In order to use the resulting polyhedron as a constraint set in an optimization problem, there is no need to compute the resulting H-representation of this projection. Moreover, other operations such as intersection are also implemented between extended H-representations. We illustrate this with a simple example. We start by defining the H-representation of a square with JuMP.</p><p>[B85] Balas, E., 1985. <em>Disjunctive programming and a hierarchy of relaxations for discrete optimization problems</em>. SIAM Journal on Algebraic Discrete Methods, 6(3), pp.466-486.</p><pre><code class="language-julia hljs">using JuMP
model = Model()
@variable(model, -1 &lt;= x &lt;= 1)
@variable(model, -1 &lt;= y &lt;= 1)
using Polyhedra
square = hrep(model)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">H-representation LPHRep{Float64}:
4-element iterator of HalfSpace{Float64, SparseArrays.SparseVector{Float64, Int64}}:
 HalfSpace(sparsevec([1], [-1.0], 2), 1.0)
 HalfSpace(sparsevec([2], [-1.0], 2), 1.0)
 HalfSpace(sparsevec([1], [1.0], 2), 1.0)
 HalfSpace(sparsevec([2], [1.0], 2), 1.0)</code></pre><p>Note that the names of the JuMP variables are used as the names of the corresponding dimensions for the polyhedron <code>square</code>.</p><pre><code class="language-julia hljs">dimension_names(square)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2-element Vector{String}:
 &quot;x&quot;
 &quot;y&quot;</code></pre><p>In the following, <code>diagonal</code> and <code>antidiag</code> are projections of extended H-representations of dimension 7 hence <code>diamond</code> is a projection of an extended H-representation of dimensions 12.</p><pre><code class="language-julia hljs">diagonal = convexhull(translate(square, [-2, -2]), translate(square, [2, 2]))
antidiag = convexhull(translate(square, [-2,  2]), translate(square, [2, -2]))
diamond = diagonal ∩ antidiag</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Polyhedra.Projection{LPHRep{Float64}, Base.OneTo{Int64}}(HyperPlane(sparsevec([1, 3, 5], [1.0, -1.0, -1.0], 12), 0.0) ∩ HyperPlane(sparsevec([2, 4, 6], [1.0, -1.0, -1.0], 12), 0.0) ∩ HyperPlane(sparsevec([1, 8, 10], [1.0, -1.0, -1.0], 12), 0.0) ∩ HyperPlane(sparsevec([2, 9, 11], [1.0, -1.0, -1.0], 12), 0.0) ∩ HalfSpace(sparsevec([3, 7], [-1.0, -3.0], 12), 0.0) ∩ HalfSpace(sparsevec([4, 7], [-1.0, -3.0], 12), 0.0) ∩ HalfSpace(sparsevec([3, 7], [1.0, 1.0], 12), 0.0) ∩ HalfSpace(sparsevec([4, 7], [1.0, 1.0], 12), 0.0) ∩ HalfSpace(sparsevec([5, 7], [-1.0, -1.0], 12), -1.0) ∩ HalfSpace(sparsevec([6, 7], [-1.0, -1.0], 12), -1.0) ∩ HalfSpace(sparsevec([5, 7], [1.0, 3.0], 12), 3.0) ∩ HalfSpace(sparsevec([6, 7], [1.0, 3.0], 12), 3.0) ∩ HalfSpace(sparsevec([7], [-1.0], 12), 0.0) ∩ HalfSpace(sparsevec([7], [1.0], 12), 1.0) ∩ HalfSpace(sparsevec([8, 12], [-1.0, -3.0], 12), 0.0) ∩ HalfSpace(sparsevec([9, 12], [-1.0, 1.0], 12), 0.0) ∩ HalfSpace(sparsevec([8, 12], [1.0, 1.0], 12), 0.0) ∩ HalfSpace(sparsevec([9, 12], [1.0, -3.0], 12), 0.0) ∩ HalfSpace(sparsevec([10, 12], [-1.0, -1.0], 12), -1.0) ∩ HalfSpace(sparsevec([11, 12], [-1.0, 3.0], 12), 3.0) ∩ HalfSpace(sparsevec([10, 12], [1.0, 3.0], 12), 3.0) ∩ HalfSpace(sparsevec([11, 12], [1.0, -1.0], 12), -1.0) ∩ HalfSpace(sparsevec([12], [-1.0], 12), 0.0) ∩ HalfSpace(sparsevec([12], [1.0], 12), 1.0), Base.OneTo(2))</code></pre><p>Note that the names the first two dimensions are still identical to the names of the JuMP variables and the auxiliary variables have no name.</p><pre><code class="language-julia hljs">dimension_names(diamond.set)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">12-element Vector{String}:
 &quot;x&quot;
 &quot;y&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;
 &quot;&quot;</code></pre><p>We don&#39;t need to compute the result of the projection to solve an optimization problem over <code>diamond</code>. For instance, to compute the maximal value that <code>y</code> can take over this polytope with the GLPK solver, we can do as follows. Note that if we use anonymous JuMP variables, the name of the JuMP variables will be the names of the corresponding dimensions of the polyhedron. Therefore, we can retrieve the JuMP variable according to the corresponding dimension name with <code>variable_by_name</code>.</p><pre><code class="language-julia hljs">import GLPK
model = Model(GLPK.Optimizer)
@variable(model, [1:2] in diamond)
x = variable_by_name(model, &quot;x&quot;)
y = variable_by_name(model, &quot;y&quot;)
@objective(model, Max, y)
optimize!(model)
value(x), value(y)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(0.0, 2.0)</code></pre><p>In the optimization problem, above, the auxiliary variables of the extended formulation are transparently added inside a bridge. To manipulate the auxiliary variables, one can use the extended H-representation directly instead of its projection. Note that as the auxiliary dimensions have no name, we cannot use <code>variable_by_name</code> to retrieve the corresponding JuMP variables. We can instead catch the returned value of <code>@variable</code> in some variable <code>v</code> in order to use anonymous JuMP variables while still assigning the created JuMP variables to <code>v</code>.</p><pre><code class="language-julia hljs">import GLPK
model = Model(GLPK.Optimizer)
v = @variable(model, [1:12] in diamond.set)
y = variable_by_name(model, &quot;y&quot;)
@objective(model, Max, y)
optimize!(model)
value.(v)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">12-element Vector{Float64}:
  0.0
  2.0
 -0.75
 -0.25
  0.75
  2.25
  0.25
 -0.75
  2.25
  0.75
 -0.25
  0.75</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Convex hull and intersection/">« Convex hull and intersection</a><a class="docs-footer-nextpage" href="../Minimal Robust Positively Invariant Set/">Minimal Robust Positively Invariant Set »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 17 January 2025 15:57">Friday 17 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
